{% extends 'base.html' %}
{% block title %}List of Products{% endblock %}

{% block content %}
<h2>List of Extracted Products</h2>
<table border="1" cellpadding="6">
  <tr>
    <th>Product Name</th>
    <th># Opinions</th>
    <th># With Pros</th>
    <th># With Cons</th>
    <th>Average Score</th>
    <th>Downloads</th>
  </tr>
  {% for product in products %}
  <tr>
    <td>
      <a href="{{ url_for('product', product_id=product.product_id) }}">
        {{ product.product_name }}
      </a>
    </td>
    <td>{{ product.opinions_count }}</td>
    <td>{{ product.pros_count }}</td>
    <td>{{ product.cons_count }}</td>
    <td>{{ product.average_score }}</td>
    <td>
      <a href="{{ url_for('download_file', product_id=product.product_id, filetype='csv') }}">CSV</a> |
      <a href="{{ url_for('download_file', product_id=product.product_id, filetype='xlsx') }}">XLSX</a> |
      <a href="{{ url_for('download_file', product_id=product.product_id, filetype='json') }}">JSON</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}